ПО для блока управления контроллера "Спирт" вер. 2

Версия 0.2 от 27.03.17

Реализованы следующие функции:
- Режим пропарки, проверен и работоспособен
- Режим калибровки клапана. (Тестирован на корректность отмеряемой дозы и скорости отбора во всем диапазоне от 50 мл/ч до 2000 мл/ч)
- Режим дистилляции с ручнным управлением процессом. Тестирован, работоспособен. Стабилизация мощности присутсвует, но необходима компиляция с 
выбранным режимом управления ТЭНом 2
- Режим ректификации. Отлажен и тестирован. Режим стабилизации по давлению не отлаживался.
- Есть вохможность вносить изменения в настроки ректификации, дистилляции, силового блока, производить калибровки клапана и датчика
давления. При сбросе настроек производиться калиброка тача. Настройки сохраняются во внешний EEPROM.
- Реализован режим тестирования датчико и исполнительных механизмов.

Необходимые доработки и тесты:
- Выяснить и устранить причину отвала датчиков температуры

Планы по развитию:
- добавить протокол обмена с ПК
- разработать программу для ПК
- внедрить Wi-Fi на базе ESP8622 (Режим клиента, который будет подклюяаться к серверу и обмениваться с ним данными)

Версия 0.2.1 от 04.04.17

Реализованы следующие функции:
- Малый сайт с отображением текущего состояния датчиков и режима работы автоматики
- Внедрен Wi-Fi на базе модуля ESP8622. Режим клиента с жеткими настройками сети.

Планы по развитию:
- добавить протокол обмена с ПК
- разработать программу для ПК
- внедрить Wi-Fi на базе ESP8622 (Режим клиента, который будет подклюяаться к серверу и обмениваться с ним данными). 
- Обновление прошивки модуля и контроллера по "воздуху".

Версия 0.2.2 от 08.04.17

Реализованы следующие функции:
- Внесен гистирезис при расчете дельты температур колоны при стабилизации в режиме ректификации. 
Исправлена ошибка отсчета времени стабилизации.
- деактивирована кнопка "Начать отбор" до момента перехода в режим работы на себя при дистилляции.
- при калибровке клапана изменен шаг управления мощностью нагрева до 1-го процента.
- изменены отображения показаний мощности до сотых.
- в строку статуса добавленно оставщееся время до окончания стабилизации колоны в режиме ректификации.
- добавлен наброс мощности спустя 30 минут работы на себя в режиме ректификации. 
- увеличен до 200 мл отбираемый объем при калибровке клапана.

Версия 0.2.3d от 27.04.17 (debug)

Исправленения:
- Изменена библиотека опроса датчиков по 1-wire. Не используется DMA и добавлен обработчик ошибки UART с отменой опроса.
(Тестирование: при прикосновении к разъемам показания стабильны, при отключении и обратном подключении датчики подхватываются. Тестирование на длительную работу
показало стабильность в течении 28 часов непрерывной работы, но при попытке переподключить датчик опрос все же завис. Отладочная информация показывает, что 
uart генерирует постоянное прерывание с ошибкой OverRunError и делает это в цикле, программный  сброс битов не помогает, только полная перезагрузка)

Добавление функционала:
- добавлена библиотека для вывода информации в отладочный порт (UART1)

Известные проблемы:
- при работе в конечном устройстве с включенными ТЭНами датчики температуры отваливаются в хаотичном порядке, могут отработать более часа, а может и 5 минут не пройти
как зависает процесс.

Версия 0.2.4d от 12.05.17 (debug)

Исправленения:
- найден баг при появлении ошибки uart over run error попадание в цикл с постоянным прерыванием. Убрал вызов функции отмены работы uart, добавил код для обработки кода 
ошибки ORE для uart. https://community.st.com/thread/11427
 
Версия 0.2.4d от 12.05.17 (debug)

Внесенные изменения:
- добавлена временная задержка проверки температур  для перехода между итерациями процесса ректификации (т.е. переход осуществляется, если температура превышает уставку в течении
определенного интервала времени (15 сек)). 

Версия 0.2.4d от 19.12.17 (debug)

Внесенные изменения:
- уменьшен нижний предел уставки температуры ОЖ с 10 С до 0 С (Требует переинициализацию eeprom)
- изменен перечень передаваемых параметров в модуль Wi-Fi (см. документ Обмен с модулем Wi-Fi)
- протокол обмена с модулем Wi-Fi переведен на стандарт JSON
- исправлен ошибка с отсутвием показаний температуры инициализируемого датчика в настройках
- увеличен до 160 байт размер стека для задачи StartSensPollTask
- при входе в меню выбора настроект отключается передача данных в модуль WiFi, для того что бы его можно было обновить по воздуху (Костыль)

TO DO:
- проверить, в случае необходимости исправить приоритеты прерываний для корректной работы FreeRTOS
- 
